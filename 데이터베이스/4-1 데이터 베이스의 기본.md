# 4-1 데이터 베이스의 기본

- 데이터베이스(DB, database) ⇒ 데이터의 저장소
    
    일정한 규칙, 혹은 규약을 통해 구조화되어 저장되는 데이터의 모음
    
    특징 :
    
    - 실시간 접근
        
        사용자의 질의(조회)에 대하여 즉시 응답하는 특징
        
    - 동시 공용
        
        다수의 사용자가 동시에 같은 내용의 데이터를 이용할 수 있어야 됨
        
    - 계속적인 진화
        
        항상 최신의 데이터를 동적으로 유지
        
    - 내용에 의한 참조
        
        데이터 참조 시, 주소가 아닌 내용에 따라 참조
        
        EX)  우리는 어떤 데이터가 메모리의 어느 주소에 저장되어있는지 몰라도 '사과'는 내용을 검색하면 우리가 원하는 값을 찾을 수 있고 이를 '내용에 따른 참조' 라고 합니다
        
    - 데이터의 논리적, 물리적 독립성
        
        논리적 독립성 : 데이터의 논리적 구조를 변경해도 응용 프로그램은 변경되지 않음.
        
        물리적 독립성 : 새로운 디스크를 도입하더라도 응용 프로그램에 영향을 주지 않음.
        
    
    ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled.png)
    
- DBMS(**Database Management System)**
    
    해당 데이터베이스를 제어, 관리하는 통합 시스템, 데이터베이스 안에 있는 데이터들은 특정 DBMS마다 정의된 쿼리 언어를 통해 삽입, 삭제, 수정, 조회 등을 수행할 수 있음
    
    EX) **MySQL, 오라클(Oracle), SQL 서버, MariaDB**
    
    ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled%201.png)
    
- DBMS의 분류
    
    계층형(Hierarchical), 망형(Network), 관계형(Relational), 객체지향형(Object-Oriented), 객체관계형(Object-Relational) 등으로 분류
    
    **현재 사용되는 DBMS 중에는 관계형 DBMS가 가장 많은 부분을 차지** MySQL도 관계형 DBMS에 포함 
    
    - 계층형
        
        계층형 DBMS(Hierarchical DBMS)는 처음으로 등장한 DBMS 개념으로 1960년대에 시작
        
        각 계층은 트리tree 형태를 가
        
        단점 : 계층형 DBMS는 처음 구성을 완료한 후에 이를 변경하기가 상당히 까다롭다. 또한 다른 구성원을 찾아가는 것이 비효율적 ⇒ **지금은 사용하지 않는 형태**
        
        ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled%202.png)
        
    - 망형
        
        망형 DBMS(Network DBMS)는 계층형 DBMS의 문제점을 개선하기 위해 1970년대에 등장. 
        
        하위에 있는 구성원끼리도 연결된 유연한 구조.
        
        단점 : 망형 DBMS를 잘 활용하려면 프로그래머가 모든 구조를 이해해야만 프로그램 작성이 가능 ⇒ **지금은 거의 사용하지 않는 형태**
        
        ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled%203.png)
        
    - 관계형
        
        관계형 DBMS(Relational DBMS)는 줄여서 RDBMS라고 부름
        
        MySQL뿐만 아니라, **대부분의 DBMS가 RDBMS 형태로 사용**
        
        RDBMS의 데이터베이스는 테이블(table)이라는 최소 단위로 구성되며, 이 테이블은 하나 이상의 열(column)과 행(row)으로 이루어져 있음.
        
        ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled%204.png)
        
- 엔터티
    
    엔터티는 사람, 장소, 물건, 사건, 개념 등 여러 개의 속성을 지닌 명사를 의미
    
    ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled%205.png)
    
    엔터티는 데이터베이스 테이블이라고 생각하면 이해가 편함
    
    **인스턴스(Instance) :** 인스턴스는 데이터베이스에 저장된 데이터 내용의 전체 집합을 의미.
    
    **속성(Attribute) :** 속성은 인스턴스의 구성요소로써 더 이상 분리되지 않는 단위로, 업무에 필요한 데이터를 저장할 수 있음.
    
    - 적절한 엔터티의 특징
        
        업무에서 필요로 하는 정보여야 한다.
        
        엔터티는 유일한 식별자 있어야 한다.
        
        두 개 이상의 인스턴스의 집합이어야 한다.
        
        업무 프로세스에 의해 이용되어야 한다. 
        
        반드시 속성을 포함해야 한다.
        
        다른 엔터티와 최소 한 개 이상의 관계가 존재해야 한다.
        
    - 엔터티의 분류
        
        ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled%206.png)
        
        ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled%207.png)
        
    - **Strong Entity vs Weak Entity**
        - Strong Entity 는 자체적인 고유 식별자(primary key)를 가지는 엔티티
        - Weak Entity 는 자체적인 고유 식별자를 가지지 않는 엔티티이다.
            
            ⇒ 일반적으로, 부모 엔티티와의 관계를 나타내는 외래 키(Foreign Key)를 사용하여 식별
            
- 릴레이션
    
    데이터베이스에서 정보를 구분하여 저장하는 기본 단위
    
    ⇒ 관계형 데이터베이스에서는 ‘테이블’이라고 함. NoSQL 데이터베이스에서는 ‘컬렉션’이라고 함.
    
    - 테이블과 컬렉션
        
        데이터베이스 종류는 크게 관계형 데이터 베이스와 NoSQL 데이터베이스로 나뉜다.
        
        관계형 데이터베이스 ex> MySQL | NoSQL 데이터베이스 ex> MongoDB
        
        - MySQL 구조 : 레코드 - 테이블 - 데이터베이스
        - MongoDB 구조 : 도큐먼트 - 컬렉션 - 데이터베이스
        
        레코드가 쌓여서 테이블이 되고 테이블 쌓여서 데이터베이스 된다.
        
- 속성
    
    릴레이션에서 관리하는 구체적이며 고유한 이름 갖는 정보
    

- 도메인
    
    릴레이션에 포함된 각각의 속성들이 가질 수 있는 값의 집합
    
    ex > '성별' : 속성 => { 남, 여 } : 도메인
    
- 필드와 레코드
    
    데이터베이스에서 필드와 레코드로 구성된 테이블 만들 수 있음
    
    테이블에 쌓이는 행(row) 단위의 데이터를 '레코드(= 튜플)'라고 함
    
    필드는 타입을 가짐(ex > 이름 : 문자열 | 전화번호 : 숫자)
    
    - 속성와 필드의 차이점
        
        객체지향에서 객체는 고유한 속성(= 특징)을 가지는 데, 그 속성을 칭하는 단어를 property 라고 합니다. 그리고 이 속성의 실체가 담기는 곳이 필드(= 멤버 변수)입니다.
        
- 타입
    
    실습하면서 익혔죠 ? ^_^
    
    **ENUM 과 SET**
    
    ENUM과 SET은 데이터베이스에서 사용되는 열거형 데이터 형식
    
    ENUM 
    
    - ENUM은 열거형 데이터를 저장하는 데 사용됩니다. 즉, 사전에 정의된 값 중 하나를 선택하여 저장할 수 있는 형식입니다.
    - ENUM은 특정 값의 목록을 정의하고, 그 중 하나를 선택하여 저장할 수 있습니다. 예를 들어, 'Male', 'Female'과 같은 성별 정보를 ENUM으로 정의하고, 해당 열에 'Male' 또는 'Female' 값을 저장할 수 있습니다.
    - ENUM은 정의된 값 중에서만 선택할 수 있기 때문에 데이터의 일관성과 제약 조건을 강화할 수 있습니다. 또한, ENUM 값은 내부적으로 정수로 저장되기 때문에 저장 공간을 절약할 수 있습니다.
    
    SET
    
    - SET은 여러 개의 값을 동시에 선택하여 저장하는 데 사용됩니다. 즉, 사전에 정의된 값 중에서 여러 개를 선택하여 저장할 수 있는 형식입니다.
    - SET은 ENUM과 비슷하지만, 하나 이상의 값을 선택하여 저장할 수 있는 차이가 있습니다. 예를 들어, 'Reading', 'Music', 'Sports'와 같은 취미 정보를 SET으로 정의하고, 해당 열에 'Reading', 'Sports'와 같이 여러 개의 값을 선택하여 저장할 수 있습니다.
    - SET은 여러 개의 값을 저장할 수 있기 때문에 다중 선택이 가능하며, 각 선택된 값은 비트 마스크 형태로 저장됩니다. 따라서 SET은 다중 선택이 필요한 경우 유용합니다.
    
    **차이점**
    
    - ENUM은 정의된 값 중 하나를 선택해야 하지만, SET은 정의된 값 중에서 여러 개를 선택할 수 있습니다.
    - ENUM은 내부적으로 정수로 저장되어 저장 공간을 절약할 수 있지만, SET은 비트 마스크 형태로 저장되어 저장 공간이 조금 더 필요합니다.
    - ENUM은 단일 선택에 적합하고, SET은 다중 선택에 적합합니다.

- 관계
    
    데이터베이스에서 테이블은 하나만 있는 것이 아니다.
    
    여러 개의 테이블이 있고 이러한 테이블은 서로의 관계가 정의되어 있음
    
    - 1 : 1 관계
        
        ex > 유저 : 이메일
        
    - 1 : N 관계
        
        한 개체가 다른 많은 개체를 포함하는 관계
        
        ex > 유저 : 상품( like 장바구니 )
        
    - N : M 관계
        
        테이블 두 개를 직접적으로 연결해서 구축하지는 않고 1 : N, 1: M 이라는 관계를 갖는 테이블 두 개로 나눠서 설정
        
        ex > 학생 : 강의학생도 강의를 많이 들을 수 있고 강의도 여러 명의 학생을 포함할 수 있음
        
- 키
    
    테이블 간의 관계를 조금 더 명확하게 하고 테이블 자체의 인덱스를 위해 설정된 장치
    
    ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled%208.png)
    
    **기본키, 대체키 < 후보키(최소성) < 슈퍼키(유일성) | 외래키**
    
    ### 유일성
    
    **하나의 키값으로 튜플을 유일하게 식별할 수 있는 성질**
    
    여러 개의 튜플이 존재할 때 각각의 튜플을 서로 구분할 수 있어야 합니다.
    
    한마디로 **각각의 튜플을 유일해야 한다는 의미**입니다.
    
    예를 들어 (주민번호, 나이, 사는곳, 혈액형)이라는 속성이 있을 때 나이, 사는곳, 혈액형을 충분히 중복될 수 있는 속성입니다.
    
    하지만 주민번호는 모두 다르기 때문에 각각의 튜플을 중복되는 속성 값이 존재할 수는 있지만 **주민번호는 절대 중복할 수 없습니다.**
    
    이렇게 각각의 튜플을 구분할 수 있는 성질을 유일성이라고 합니다.
    
    ### 최소성
    
    **키를 구성하는 속성들 중 꼭 필요한 최소한의 속성들로만 키를 구성하는 성질**
    
    쉽게 설명하면 **굳이 없어도 될 속성들을 넣지 말자**는 말입니다.
    
    예를 들어 키(주민번호, 이름, 나이)가 있다면, 이 키는 각 튜플을 구분할 수 있습니다. 주민번호, 이름, 나이가 모두 같은 사람을 없을 테니깐요.
    
    근데 생각해보면 **이름, 나이를 빼고도 주민번호만으로 각 튜플을 유일하게 식별할 수 있습니다.**
    
    이때 이름, 나이를 빼면 해당 키는 최소성을 만족합니다.
    
    - 기본키 (PK)
        
        유일성과 최소성을 만족하는 키
        
        테이블의 데이터 중 고유하게 존재하는 속성(중복 안됨)
        
        자연키 또는 인조키 중에 골라 설정
        
        - 자연키
            
            중복된 값들을 제외하며 중복되지 않는 것을 자연스레 뽑다가 나오는 키를 자연키라고 함
            
            자연키는 언젠가는 변하는 속성을 가짐
            
        - 인조키
            
            인위적으로 생성한 키를 인조키라고 함
            
            자연키와 대조적으로 변하지 않음
            
            보통 기본키는 인조키로 설정
            
        
    - 외래키(FK)
        
        다른 테이블의 기본키를 그대로 참조하는 값
        
        개체와 관계를 식별하는 데 사용
        
        외래키는 중복되어도 괜찮음
        
    
    ![Untitled](4-1%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%20%E1%84%80%E1%85%B5%E1%84%87%E1%85%A9%E1%86%AB%20845d0028da7a43fca330e3cc855ce11f/Untitled%209.png)
    
    - 후보키
        
        **후보 키는 기본 키가 될 수 있는 후보들**이며 **유일성과 최소성을 동시에 만족**해야 함
        
        - 예시
            - [광고주] 테이블에서는 등록번호와 사업자등록번호는 유일성과 최소성을 만족하므로 후보키가 됨
            - [매체] 테이블에서는 등록번호와 매체명으로 조합해야 유일성과 최소성을 만족하기 때문에 (등록번호, 매체명)이 후보키가 됨
    - 대체키
        
        **후보 키 중에서 선정된 기본 키를 제외한 나머지 후보 키**를 의미
        
        예시)
        
        [광고주] 테이블에서 등록번호가 기본 키로 설정이 되면 사업자등록번호는 대체 키가 됨
        
    - 슈퍼키
        
        릴레이션을 구성하는 모든 튜플에 대해 **유일성은 만족하나 최소성은 만족하지 못함**
        
        - 예시
            - '등록번호'와 '사업자등록번호'는 유일성을 만족하고 있으나'대표자명'은 동명이인이 있을 수 있어 유일성 만족 X
            - `슈퍼 키(Super Key)`등록번호, 사업자등록번호, (등록번호, 사업자등록번호), (등록번호, 사업자등록번호, 대표자명)